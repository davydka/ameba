<!doctype html>
<html>
<head>
	<meta charset='utf-8'>
	<title>clientside javascript gif decoding</title>
	<meta name='viewport' content='width=device-width, initial-scale=1'>
	<style>
		html, body{
			margin: 0;
			padding:0;
		}
		.img {
			/*width: 100%;*/
		}
	</style>
</head>
<body>

<img class='gif' src='gif.gif' />
<img class='gif1' src='gif1.gif' />
<img class='gif2' src='gif2.gif' />
<img class='gif3' src='gif3.gif' />

<script src='gif.js'></script>
<script src='stats.min.js'></script>
<script>
var stats = new Stats();
stats.showPanel( 0 ); // 0: fps, 1: ms, 2: mb, 3+: custom
stats.domElement.style.top = 'auto';
stats.domElement.style.left = 'auto';
stats.domElement.style.right = '0px';
stats.domElement.style.bottom = '0px';
document.body.appendChild( stats.dom );
var prevTime = performance.now();
var frames =  60;
function animate() {
	stats.begin();

	frames++;
	var time = performance.now();
	if ( time > prevTime + 1000 ) {
		var fps = ( frames * 1000 ) / ( time - prevTime );
		fps = Math.round(fps);
		if(fps < 30){
			console.error('###', fps);
		}
		this.prevTime = time;
		this.frames = 0;
	}

	stats.end();
	requestAnimationFrame( animate );
}
requestAnimationFrame( animate );
</script>
</body>
</html>

